<div class="test">
	<div class="test__content">
		<div class="test__info">
			<img alt="PersonIcon" src="../../../assets/icons/close_twotone.svg" class="test__icon" routerLink="/app/home" />
			<div class="test__title">TEST</div>
			<div class="test__flex">
				<div class="test__text">{{ test['name'] }}</div>
				<img alt="PersonIcon" src="../../../assets/icons/email_outline.svg" class="inputContainer__icon" />
			</div>
			<img alt="PersonIcon" src="{{url}}/image/{{test['image']}}" class="test__person" />
		</div>
		<div class="test__box">
			<form class="test-form" [formGroup]="formGroup">
				<mat-horizontal-stepper linear #stepper formArrayName="formArray">
					<mat-step formGroupName="{{i}}" [stepControl]="formArray?.get([i])" *ngFor="let question of questions; let i = index">
						<div class="test__ask">
							<div class="test__number">
								{{ question.order }}
							</div>
							<div class="test__question">
								{{ question.question }}
							</div>
						</div>

						<div class="test__radio">
							<mat-radio-group formControlName="answer_{{i}}" required class="test__radio-flex">
								<mat-radio-button value="{{ answer.id }}" *ngFor="let answer of question.answers; let in = index">
									<label class="test__label">{{ order[in] }}</label>
									<div class="test-form__option-answer">{{ answer.answer }}</div>
								</mat-radio-button>
							</mat-radio-group>
						</div>

						<div class="app-flex">
							<button class="btn btn-secondary app-m-right" *ngIf="i == 0" routerLink="/app/home">Anterior</button>
							<button *ngIf="i != 0" class="btn btn-secondary app-m-right" matStepperPrevious>Anterior</button>
							<button *ngIf="i != questions.length - 1" class="btn btn-primary" matStepperNext> Siguiente</button>
							<button *ngIf="i == questions.length - 1" class="btn btn-primary" matStepperNext (click)="onSubmit()">Enviar</button>
						</div>
					
					</mat-step>
				</mat-horizontal-stepper>
			</form>
		</div>
	</div>
</div>
