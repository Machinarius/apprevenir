<div class="login">
	<div class="login__section-one">
		<div class="section-one">
			<img alt="PersonIcon" src="../../../assets/logo/LOGO-COLOR-BLANCO.svg" class="logo-login" />
		</div>
		<img alt="PersonIcon" src="../../../assets/bg/APREVENIR-LOGIN.svg" class="logo-bg" />
	</div>

	<div class="login__section-two">
		<div class="loader" *ngIf="loadingData">
			<mat-spinner></mat-spinner>
			<span style="font-family: 'KanitMedium';">Cargando Datos...</span>
		</div>

		<div class="section-two" *ngIf="!loadingData">
			<div class="section-two__title">Crear una cuenta</div>
			<mat-horizontal-stepper #stepper linear="true">
				<mat-step [stepControl]="personalInfoFormGroup">
					<form [formGroup]="personalInfoFormGroup">
						<ng-template matStepLabel>Información Personal</ng-template>

						<div class="registration__title">¿Quién te recomendó usar Apprevenir?</div>
						<mat-form-field class="width-100">
							<mat-select formControlName="referralSource" (selectionChange)="onReferralSourceChanged()">
								<mat-option *ngFor="let source of referralSources" [value]="source.key">
									{{source.label}}
								</mat-option>
							</mat-select>
							<mat-error>
								Por favor elige quién te recomendó
							</mat-error>
						</mat-form-field>

						<div *ngIf="rootReferralHierarchy">
							<referral-hierarchy [formGroup]="personalInfoFormGroup" [hierarchy]="rootReferralHierarchy"></referral-hierarchy>
						</div>

						<div>
							<div class="registration__title">Información personal</div>
							<mat-form-field class="example-full-width">
								<mat-label>Nombre</mat-label>
								<input type="text" matInput required formControlName="name">
								<mat-error>
									Nombre es <strong>requerido</strong>
								</mat-error>
							</mat-form-field>
						</div>
						
						<div class="registration__box">
							<mat-form-field class="width-48">
								<mat-label>Primer Apellido</mat-label>
								<input type="text" matInput required formControlName="maidenName">
								<mat-error>
									Primer Apellido es <strong>requerido</strong>
								</mat-error>
							</mat-form-field>
							<mat-form-field class="width-48">
								<mat-label>Segundo Apellido</mat-label>
								<input type="text" matInput required formControlName="lastName">
								<mat-error>
									Segundo Apellido es <strong>requerido</strong>
								</mat-error>
							</mat-form-field>
						</div>
						
						<mat-form-field class="example-full-width">
							<mat-label>Fecha de Nacimiento</mat-label>
							<input matInput [matDatepicker]="picker" required formControlName="birthDate">
							<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
							<mat-datepicker #picker></mat-datepicker>
							<mat-error>
								Por favor ingrese una fecha válida
							</mat-error>
						</mat-form-field>

						<div class="registration__gender">Género</div>
						<mat-radio-group aria-label="Select an option" required formControlName="gender">
							<mat-radio-button value="1" class="app-m-right">Femenino</mat-radio-button>
							<mat-radio-button value="2">Masculino</mat-radio-button>
						</mat-radio-group>
						<mat-error 
							class="mat-error" 
							style="font-size: 75%;"
							*ngIf="genderSelectionIsInvalid"
						>
							Por favor elige tu género
						</mat-error>

						<div>
							<mat-form-field class="width-100">
								<mat-label>Estado Civil</mat-label>
								<mat-select formControlName="maritalStatus">
									<mat-option *ngFor="let status of maritalStatusValues" [value]="status.key">
										{{status.label}}
									</mat-option>
								</mat-select>
								<mat-error>
									Por favor elige tu estado civil
								</mat-error>
							</mat-form-field>
						</div>
						
						<div>
							<mat-form-field class="width-100">
								<mat-label>Nivel de Estudios</mat-label>
								<mat-select formControlName="educationLevel">
									<mat-option *ngFor="let level of educationLevels" [value]="level.key">
										{{level.label}}
									</mat-option>
								</mat-select>
								<mat-error>
									Por favor elige tu nivel de estudios
								</mat-error>
							</mat-form-field>
						</div>

						<div class="app-flex">
							<button class="btn btn-secondary app-m-right">Cancelar</button>
							<button class="btn btn-primary" matStepperNext (click)="onProfileNextClicked()">Siguiente</button>
						</div>
					</form>

				</mat-step>
				<mat-step [stepControl]="secondFormGroup" errorMessage="Address is required.">
					<form [formGroup]="secondFormGroup">
						<ng-template matStepLabel>Ubicación</ng-template>
						<div>
							<mat-form-field class="width-100">
								<mat-label>País</mat-label>
								<mat-select>
									<mat-option>
										asdasdas
									</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						

						<div>
							<mat-form-field class="width-100">
								<mat-label>Departamento</mat-label>
								<mat-select>
									<mat-option>
										asdasdas
									</mat-option>
								</mat-select>
							</mat-form-field>
						</div>

						<div>
							<mat-form-field class="width-100">
								<mat-label>Ciudad</mat-label>
								<mat-select>
									<mat-option>
										asdasdas
									</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="app-flex">
							<button class="btn btn-secondary app-m-right" matStepperPrevious>Anterior</button>
							<button class="btn btn-primary" matStepperNext>Siguiente</button>
						</div>
					</form>
				</mat-step>

				<mat-step>
					<ng-template matStepLabel>Contacto y Acceso</ng-template>
					<mat-form-field class="example-full-width">
						<mat-label>Número de Celular</mat-label>
						<input type="email" matInput>
						<mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
							Please enter a valid email address
						</mat-error>
						<mat-error *ngIf="emailFormControl.hasError('required')">
							Email is <strong>required</strong>
						</mat-error>
					</mat-form-field>

					<mat-form-field class="example-full-width">
						<mat-label>Correo Electronico</mat-label>
						<input type="email" matInput>
						<mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
							Please enter a valid email address
						</mat-error>
						<mat-error *ngIf="emailFormControl.hasError('required')">
							Email is <strong>required</strong>
						</mat-error>
					</mat-form-field>

					<div class="registration__box">
						<mat-form-field class="width-48">
							<mat-label>Contraseña</mat-label>
							<input type="email" matInput >
							<mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
								Please enter a valid email address
							</mat-error>
							<mat-error *ngIf="emailFormControl.hasError('required')">
								Email is <strong>required</strong>
							</mat-error>
						</mat-form-field>
						<mat-form-field class="width-48">
							<mat-label>Repetir Contraseña</mat-label>
							<input type="email" matInput>
							<mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
								Please enter a valid email address
							</mat-error>
							<mat-error *ngIf="emailFormControl.hasError('required')">
								Email is <strong>required</strong>
							</mat-error>
						</mat-form-field>
					</div>
					<div class="app-flex">
						<button class="btn btn-secondary app-m-right" matStepperPrevious>Anterior</button>
					</div>
				</mat-step>
			</mat-horizontal-stepper>
		</div>
	</div>
</div>